CREATE TABLE TbCliente (
    CD_CLIENTE SERIAL PRIMARY KEY,
    NM_CLIENTE VARCHAR(100) NOT NULL
);

INSERT INTO TbCliente (NM_CLIENTE) VALUES
('João'), 
('Maria'),
('José'),
('Adilson'),
('Cleber');

CREATE TABLE TbTransacoes (
    CD_CLIENTE INT REFERENCES TbCliente(CD_CLIENTE) ON DELETE CASCADE,
    DT_TRANSACAO DATE NOT NULL,
    CD_TRANSACAO CHAR(3) CHECK (CD_TRANSACAO IN ('000', '110', '220')),
    VR_TRANSACAO DECIMAL(10, 2) NOT NULL,
    PRIMARY KEY (CD_CLIENTE, DT_TRANSACAO, CD_TRANSACAO)
);

INSERT INTO TbTransacoes (CD_CLIENTE, DT_TRANSACAO, CD_TRANSACAO, VR_TRANSACAO) VALUES
(1, '2021-08-28', '000', 20.00),
(1, '2021-09-09', '110', 78.90),
(1, '2021-09-17', '220', 58.00),
(1, '2021-11-15', '110', 178.90),
(1, '2021-12-24', '220', 110.37),
(5, '2021-10-28', '110', 220.00),
(5, '2021-11-07', '110', 380.00),
(5, '2021-12-05', '220', 398.86),
(5, '2021-12-14', '220', 33.90),
(5, '2021-12-21', '220', 16.90),
(3, '2021-10-05', '110', 720.90),
(3, '2021-11-05', '110', 720.90),
(3, '2021-12-05', '110', 720.90),
(4, '2021-10-09', '000', 50.00);
